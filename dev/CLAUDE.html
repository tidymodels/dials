<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CLAUDE.md • dials</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" sizes="any" href="favicon.ico"><link rel="manifest" href="site.webmanifest"><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CLAUDE.md"><meta property="og:image" content="https://dials.tidymodels.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="dials.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">dials</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.4.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="articles/dials.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="external-link dropdown-item" href="https://www.tidymodels.org/learn/develop/parameters/">How to create a tuning parameter function</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidymodels/dials/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="logo.png" class="logo" alt=""><h1>CLAUDE.md</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/dials/blob/main/CLAUDE.md" class="external-link"><code>CLAUDE.md</code></a></small>
    </div>

<div id="claudemd" class="section level1">

<p>This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
<p>dials is an R package that provides infrastructure for creating and managing tuning parameter values in the tidymodels ecosystem. It defines parameter objects, sets of parameters, and methods for generating parameter grids for model tuning.</p>
</div>
<div class="section level2">
<h2 id="key-development-commands">Key development commands<a class="anchor" aria-label="anchor" href="#key-development-commands"></a></h2>
<p>General advice: * When running R from the console, always run it with <code>--quiet --vanilla</code> * Always run <code>air format .</code> after generating code</p>
<div class="section level3">
<h3 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h3>
<ul><li><p>Use <code>devtools::test()</code> to run all tests</p></li>
<li><p>Use <code>devtools::test_file("tests/testthat/test-filename.R")</code> to run tests in a specific file</p></li>
<li><p>DO NOT USE <code>devtools::test_active_file()</code></p></li>
<li><p>All testing functions automatically load code; you don’t need to.</p></li>
<li><p>All new code should have an accompanying test.</p></li>
<li><p>Tests for <code>R/{name}.R</code> go in <code>tests/testthat/test-{name}.R</code>.</p></li>
<li><p>If there are existing tests, place new tests next to similar existing tests.</p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<ul><li>Run <code>devtools::document()</code> after changing any roxygen2 docs.</li>
<li>Every user facing function should be exported and have roxygen2 documentation.</li>
<li>Whenever you add a new documentation file, make sure to also add the topic name to <code>_pkgdown.yml</code>.</li>
<li>Run <code><a href="https://pkgdown.r-lib.org/reference/check_pkgdown.html" class="external-link">pkgdown::check_pkgdown()</a></code> to check that all topics are included in the reference index.</li>
<li>Use sentence case for all headings</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="architecture">Architecture<a class="anchor" aria-label="anchor" href="#architecture"></a></h2>
<div class="section level3">
<h3 id="core-parameter-system">Core Parameter System<a class="anchor" aria-label="anchor" href="#core-parameter-system"></a></h3>
<p>The package is built around two main parameter types:</p>
<ol style="list-style-type: decimal"><li>
<strong><code>quant_param</code></strong>: Quantitative parameters (continuous or integer)
<ul><li>Created via <code><a href="reference/new-param.html">new_quant_param()</a></code> in <code>R/constructors.R</code>
</li>
<li>Has <code>range</code> (lower/upper bounds), <code>inclusive</code>, optional <code>trans</code> (transformation), and <code>finalize</code> function</li>
<li>Examples: <code><a href="reference/penalty.html">penalty()</a></code>, <code><a href="reference/mtry.html">mtry()</a></code>, <code><a href="reference/learn_rate.html">learn_rate()</a></code>
</li>
</ul></li>
<li>
<strong><code>qual_param</code></strong>: Qualitative parameters (categorical)
<ul><li>Created via <code><a href="reference/new-param.html">new_qual_param()</a></code> in <code>R/constructors.R</code>
</li>
<li>Has discrete <code>values</code> (character or logical)</li>
<li>Examples: <code><a href="reference/activation.html">activation()</a></code>, <code><a href="reference/weight_func.html">weight_func()</a></code>
</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="parameter-organization">Parameter Organization<a class="anchor" aria-label="anchor" href="#parameter-organization"></a></h3>
<ul><li>
<strong>Individual parameters</strong>: parameter definition files (<code>R/param_*.R</code>), each defining specific tuning parameters used across tidymodels</li>
<li>
<strong>Parameter sets</strong>: The <code>parameters</code> class (defined in <code>R/parameters.R</code>) groups multiple parameters into a data frame-like structure</li>
</ul></div>
<div class="section level3">
<h3 id="grid-generation">Grid Generation<a class="anchor" aria-label="anchor" href="#grid-generation"></a></h3>
<p>Three main grid types (in <code>R/grids.R</code> and <code>R/space_filling.R</code>):</p>
<ol style="list-style-type: decimal"><li>
<strong>Regular grids</strong> (<code><a href="reference/grid_regular.html">grid_regular()</a></code>): Factorial designs with evenly-spaced values</li>
<li>
<strong>Random grids</strong> (<code><a href="reference/grid_regular.html">grid_random()</a></code>): Random sampling from parameter ranges</li>
<li>
<strong>Space-filling grids</strong> (<code><a href="reference/grid_space_filling.html">grid_space_filling()</a></code>): Experimental designs (Latin hypercube, max entropy, etc.) that efficiently cover the parameter space</li>
</ol><p>All grid functions: - Accept parameter objects or parameter sets - Return tibbles with one column per parameter</p>
</div>
<div class="section level3">
<h3 id="finalization-system">Finalization System<a class="anchor" aria-label="anchor" href="#finalization-system"></a></h3>
<p>Many parameters have <code><a href="reference/unknown.html">unknown()</a></code> ranges that depend on the dataset (e.g., <code><a href="reference/mtry.html">mtry()</a></code> depends on the number of predictors). The finalization system (<code>R/finalize.R</code>) resolves these:</p>
<ul><li>
<code><a href="reference/finalize.html">finalize()</a></code>: Generic function that calls the parameter’s embedded <code>finalize</code> function</li>
<li>
<code>get_*()</code>: Various functions that get and set parameter ranges based on data characteristics</li>
</ul></div>
<div class="section level3">
<h3 id="infrastructure-files">Infrastructure Files<a class="anchor" aria-label="anchor" href="#infrastructure-files"></a></h3>
<p>Files prefixed with <code>aaa_</code> load first and define foundational classes: - <code>R/aaa_ranges.R</code>: Handling and validation of parameter ranges - <code>R/aaa_unknown.R</code>: The <code><a href="reference/unknown.html">unknown()</a></code> placeholder for unspecified parameter bounds - <code>R/aaa_values.R</code>: Validation, generation, and transformation of parameter values</p>
<p>Files prefixed with <code>compat-</code> provide compatibility with dplyr and vctrs for parameter objects.</p>
</div>
</div>
<div class="section level2">
<h2 id="integration-with-tidymodels">Integration with tidymodels<a class="anchor" aria-label="anchor" href="#integration-with-tidymodels"></a></h2>
<p>dials is infrastructure-level; it defines parameters but doesn’t perform tuning. The tune package uses dials for actual hyperparameter tuning. Parameter objects integrate with: - <strong>parsnip</strong>: Model specifications reference dials parameters - <strong>recipes</strong>: Preprocessing steps use dials parameters - <strong>workflows</strong>: Workflows combine models and preprocessing that utilize dials parameters - <strong>tune</strong>: Grid search and optimization consume parameter grids</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, <a href="https://frick.ws" class="external-link">Hannah Frick</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer></body></html>

